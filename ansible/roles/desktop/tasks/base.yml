---
- name: install general desktop base
  zypper:
    name:
      - zigzag-wallpapers
      - xdg-user-dirs
      - xdg-utils
      - gsettings-backend-dconf
      - bluez-firmware
      - udisks2
    state: present

- name: install audio stack
  zypper:
    name:
      - alsa-firmware
      - alsa-utils
      - pipewire
      - pipewire-modules
      - pipewire-alsa
      - pipewire-pulseaudio
      - gstreamer-plugin-pipewire
    state: present

- name: install graphics stack and drivers
  zypper:
    name:
      - patterns-zigzag-xfirmware-intel
      - patterns-zigzag-xfirmware-radeon
      - patterns-zigzag-xfirmware-nouveau
      - Mesa-demo-x
      - vulkan-tools
      - xf86-input-libinput
      - libva-utils
      - libva-glx2
    state: present

- name: sets graphical target
  command: systemctl set-default graphical.target
