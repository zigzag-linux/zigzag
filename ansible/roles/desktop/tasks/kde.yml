---
- name: install general desktop
  zypper:
    name:
      - zigzag-wallpapers
      - xdg-user-dirs
      - xdg-utils
      - gsettings-backend-dconf
      - bluez-firmware
      - udisks2
    state: present

- name: install plasma desktop
  zypper:
    name:
      - plasma5-session-wayland
      - plasma5-session
      - sddm
      - plasma5-defaults-zigzag
      - plasma5-pa
      - plasma-nm5-openvpn
      - bluedevil5
      - ksshaskpass5
      - pinentry-qt5
      - kgamma5
      - kde-gtk-config5-gtk3
      - gtk3-metatheme-breeze
      - kio-extras5
      - pam_kwallet
      - xdg-desktop-portal-kde
      - kdenetwork-filesharing
      - phonon4qt5-backend-gstreamer
      - ffmpegthumbs
      - kdegraphics-thumbnailers
      - colord-kde
      - kcm_tablet
    state: present

- name: install desktop apps
  zypper:
    name:
      - dolphin
      - konsole
      - ark
      - kcolorchooser
      - discover
      - discover-notifier
      - discover-backend-flatpak
      - discover-backend-packagekit
      - discover-backend-fwupd
      - kwalletmanager5
      - spectacle
    state: present

- name: install new plasma modules
  zypper:
    name:
      - plasma5-thunderbolt
      - plasma5-systemmonitor
      - plasma5-disks
  when: is_tumbleweed == true

- name: install ksysguard5 (legacy)
  zypper: name=ksysguard5 state=present
  when: is_leap == true

- name: install breeze gtk for flatpak
  flatpak: name=org.gtk.Gtk3theme.Breeze state=present

- name: install breeze-dark gtk for flatpak
  flatpak: name=org.gtk.Gtk3theme.Breeze-Dark state=present
